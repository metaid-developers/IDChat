# æ‰¹é‡é‚€è¯·åŠŸèƒ½å®ç°

## æ›´æ–°æ—¥æœŸ

2025 å¹´ 11 æœˆ 23 æ—¥

## åŠŸèƒ½æ¦‚è¿°

å®ç°äº†æ‰¹é‡é‚€è¯·ç”¨æˆ·åˆ°ç¾¤èŠçš„åŠŸèƒ½ï¼Œæ”¯æŒå…¬å¼€ç¾¤èŠå’Œç§å¯†ç¾¤èŠçš„æ‰¹é‡é‚€è¯·ï¼ŒåŒ…æ‹¬è‡ªåŠ¨æ·»åŠ ç™½åå•ã€ECDH åŠ å¯†ã€ç”Ÿæˆé‚€è¯·é“¾æ¥ç­‰å®Œæ•´æµç¨‹ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### 1. æ‰¹é‡é‚€è¯·å·¥å…·å‡½æ•°

**æ–‡ä»¶ï¼š** `src/utils/talk.ts`

**æ–°å¢å‡½æ•°ï¼š** `batchInviteUsersToGroup()`

**åŠŸèƒ½æµç¨‹ï¼š**

```
1. æŸ¥è¯¢ç¾¤ç»„ç™½åå•åˆ—è¡¨
   â†“
2. ç­›é€‰å‡ºä¸åœ¨ç™½åå•ä¸­çš„ç”¨æˆ·
   â†“
3. å‘é€ pin æ·»åŠ ç”¨æˆ·åˆ°ç™½åå•
   â†“
4. ä¸ºæ¯ä¸ªç”¨æˆ·ç”Ÿæˆé‚€è¯·é“¾æ¥
   â”œâ”€ å…¬å¼€ç¾¤èŠï¼šç”Ÿæˆæ™®é€šé“¾æ¥
   â””â”€ ç§å¯†ç¾¤èŠï¼šä½¿ç”¨ ECDH + AES åŠ å¯† passwordKey
   â†“
5. è¿”å›æ‰¹é‡é‚€è¯·ç»“æœ
```

**å‚æ•°è¯´æ˜ï¼š**

```typescript
{
  groupId: string              // ç¾¤ç»„ID
  userList: Array<{           // ç”¨æˆ·åˆ—è¡¨
    metaId: string
    chatPublicKey: string      // ç”¨äº ECDH åŠ å¯†
    userName?: string
  }>
  passwordKey?: string         // ç§å¯†ç¾¤èŠçš„å¯†ç å¯†é’¥
}
```

**è¿”å›å€¼ï¼š**

```typescript
{
  status: 'success' | 'failed' | 'partial'  // æ€»ä½“çŠ¶æ€
  results: Array<{                          // æ¯ä¸ªç”¨æˆ·çš„ç»“æœ
    metaId: string
    userName?: string
    status: 'success' | 'failed'
    inviteUrl?: string                      // é‚€è¯·é“¾æ¥
    error?: string                           // é”™è¯¯ä¿¡æ¯
  }>
}
```

### 2. ç™½åå•ç®¡ç†

**API æ¥å£ï¼š** `getGroupJoinControlList()`

**æ–‡ä»¶ï¼š** `src/api/talk.ts`

**æ¥å£åœ°å€ï¼š** `/group-chat/group-join-control-list?groupId={groupId}`

**å“åº”æ ¼å¼ï¼š**

```json
{
  "code": 0,
  "data": {
    "groupId": "xxx",
    "joinBlockMetaIds": null,
    "joinWhitelistMetaIds": ["metaid1", "metaid2", ...]
  },
  "message": "success",
  "processingTime": 0
}
```

**ç™½åå•æ›´æ–°é€»è¾‘ï¼š**

```typescript
// 1. è·å–ç°æœ‰ç™½åå•
const existingWhitelist = controlListRes.data.joinWhitelistMetaIds || []

// 2. ç­›é€‰éœ€è¦æ·»åŠ çš„ç”¨æˆ·
const usersToAdd = userList.filter(user => !existingWhitelist.includes(user.metaId))

// 3. åˆå¹¶ç™½åå•
const newWhitelist = [...existingWhitelist, ...usersToAdd.map(u => u.metaId)]

// 4. å‘é€ pin æ›´æ–°ç™½åå•
const dataCarrier = {
  groupId,
  users: newWhitelist,
}

const node = {
  protocol: NodeName.SimpleGroupWhitelist,
  body: dataCarrier,
}

await buildTx.setChannelWhiteList({
  protocol,
  body,
  isBroadcast: true,
})
```

### 3. ECDH åŠ å¯†å®ç°

**ç§å¯†ç¾¤èŠé‚€è¯·åŠ å¯†æµç¨‹ï¼š**

```typescript
// 1. ä½¿ç”¨é’±åŒ… ECDH åå•†å¯†é’¥
const { sharedSecret } = await window.metaidwallet.common.ecdh({
  externalPubKey: user.chatPublicKey,
})

// 2. ä½¿ç”¨å…±äº«å¯†é’¥ AES åŠ å¯† passwordKey
const CryptoJS = await import('crypto-js')
const encryptedPasscode = CryptoJS.AES.encrypt(passwordKey, sharedSecret).toString()

// 3. URL ç¼–ç 
const encodedPasscode = encodeURIComponent(encryptedPasscode)

// 4. ç”Ÿæˆé‚€è¯·é“¾æ¥
const inviteUrl = `${window.location.origin}/channels/private/${groupId}?passcode=${encodedPasscode}`
```

### 4. UI å®ç°

**æ–‡ä»¶ï¼š** `src/views/talk/components/ChannelMemberListDrawer.vue`

**æ–°å¢ UI å…ƒç´ ï¼š**

1. **ç”¨æˆ·é€‰æ‹©å¤é€‰æ¡†**

   - æ¯ä¸ªç”¨æˆ·å·¦ä¾§æ·»åŠ å¤é€‰æ¡†
   - æ”¯æŒå¤šé€‰
   - æœªå¼€é€šç§èŠçš„ç”¨æˆ·å¤é€‰æ¡†ç¦ç”¨

2. **å·²é€‰ç”¨æˆ·åˆ—è¡¨**

   ```vue
   <div class="selected-users">
     <span>å·²é€‰ç”¨æˆ·: {{ selectedUsers.length }}</span>
     <ElButton @click="clearSelectedUsers">æ¸…ç©ºå…¨éƒ¨</ElButton>
     <el-tag v-for="user in selectedUsers" closable>
       {{ user.userName }}
     </el-tag>
   </div>
   ```

3. **æ‰¹é‡é‚€è¯·æŒ‰é’®**
   ```vue
   <ElButton type="primary" :loading="batchInviting" @click="handleBatchInvite">
     æ‰¹é‡é‚€è¯· ({{ selectedUsers.length }})
   </ElButton>
   ```

**æ–°å¢çŠ¶æ€ï¼š**

```typescript
const selectedUsers = ref<SearchUserItem[]>([]) // é€‰ä¸­çš„ç”¨æˆ·åˆ—è¡¨
const batchInviting = ref(false) // æ‰¹é‡é‚€è¯·ä¸­
```

**æ–°å¢æ–¹æ³•ï¼š**

```typescript
// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦è¢«é€‰ä¸­
isUserSelected(metaId: string): boolean

// åˆ‡æ¢ç”¨æˆ·é€‰ä¸­çŠ¶æ€
toggleUserSelection(user, checked)

// ç§»é™¤å·²é€‰ç”¨æˆ·
removeSelectedUser(metaId: string)

// æ¸…ç©ºæ‰€æœ‰é€‰ä¸­
clearSelectedUsers()

// æ‰§è¡Œæ‰¹é‡é‚€è¯·
handleBatchInvite()
```

## ä½¿ç”¨æµç¨‹

### ç¾¤ä¸»æ“ä½œæµç¨‹

1. **æ‰“å¼€é‚€è¯·å¼¹çª—**

   - ç‚¹å‡»ç¾¤æˆå‘˜åˆ—è¡¨ä¸­çš„"é‚€è¯·æˆå‘˜"æŒ‰é’®

2. **æœç´¢ç”¨æˆ·**

   - è¾“å…¥å…³é”®å­—æœç´¢ç”¨æˆ·
   - ç³»ç»Ÿè‡ªåŠ¨è·å–ç”¨æˆ·çš„ chatPublicKey

3. **é€‰æ‹©ç”¨æˆ·**

   - å‹¾é€‰è¦é‚€è¯·çš„ç”¨æˆ·ï¼ˆæ”¯æŒå¤šé€‰ï¼‰
   - å·²é€‰ç”¨æˆ·æ˜¾ç¤ºåœ¨é¡¶éƒ¨æ ‡ç­¾åˆ—è¡¨
   - æœªå¼€é€šç§èŠçš„ç”¨æˆ·æ— æ³•é€‰æ‹©ï¼ˆå¤é€‰æ¡†ç¦ç”¨ï¼‰

4. **æ‰¹é‡é‚€è¯·**

   - ç‚¹å‡»"æ‰¹é‡é‚€è¯·"æŒ‰é’®
   - ç³»ç»Ÿè‡ªåŠ¨ï¼š
     1. æ·»åŠ ç”¨æˆ·åˆ°ç™½åå•
     2. ç”ŸæˆåŠ å¯†é‚€è¯·é“¾æ¥
     3. æ˜¾ç¤ºé‚€è¯·ç»“æœ

5. **æŸ¥çœ‹ç»“æœ**
   - æˆåŠŸï¼šæ˜¾ç¤ºæˆåŠŸé‚€è¯·çš„ç”¨æˆ·æ•°
   - éƒ¨åˆ†æˆåŠŸï¼šæ˜¾ç¤ºæˆåŠŸå’Œå¤±è´¥çš„æ•°é‡
   - å¤±è´¥ï¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯

### æŠ€æœ¯æµç¨‹

```mermaid
sequenceDiagram
    participant U as ç¾¤ä¸»
    participant C as ç»„ä»¶
    participant A as API
    participant B as åŒºå—é“¾
    participant W as é’±åŒ…

    U->>C: é€‰æ‹©å¤šä¸ªç”¨æˆ·
    U->>C: ç‚¹å‡»æ‰¹é‡é‚€è¯·
    C->>A: æŸ¥è¯¢ç™½åå•
    A-->>C: è¿”å›ç™½åå•åˆ—è¡¨
    C->>C: ç­›é€‰éœ€è¦æ·»åŠ çš„ç”¨æˆ·
    C->>W: ç­¾åç™½åå•äº¤æ˜“
    W-->>C: è¿”å›ç­¾å
    C->>B: å‘é€ç™½åå• pin
    B-->>C: ç¡®è®¤æˆåŠŸ

    loop ä¸ºæ¯ä¸ªç”¨æˆ·
        alt ç§å¯†ç¾¤èŠ
            C->>W: ECDH åå•†å¯†é’¥
            W-->>C: è¿”å› sharedSecret
            C->>C: AES åŠ å¯† passwordKey
            C->>C: ç”ŸæˆåŠ å¯†é“¾æ¥
        else å…¬å¼€ç¾¤èŠ
            C->>C: ç”Ÿæˆæ™®é€šé“¾æ¥
        end
    end

    C->>U: æ˜¾ç¤ºé‚€è¯·ç»“æœ
```

## å®‰å…¨æ€§è¯´æ˜

### åŠ å¯†æœºåˆ¶

1. **ECDH å¯†é’¥åå•†**

   - ä½¿ç”¨æ¤­åœ†æ›²çº¿ Diffie-Hellman ç®—æ³•
   - æ¯ä¸ªç”¨æˆ·ä½¿ç”¨ä¸åŒçš„å…±äº«å¯†é’¥
   - ç¬¬ä¸‰æ–¹æ— æ³•ä»äº¤æ¢ä¿¡æ¯ä¸­æ¨å¯¼å¯†é’¥

2. **AES å¯¹ç§°åŠ å¯†**

   - ä½¿ç”¨ ECDH åå•†çš„å…±äº«å¯†é’¥ä½œä¸º AES å¯†é’¥
   - åŠ å¯† passwordKey åä¼ è¾“
   - åªæœ‰æ‹¥æœ‰å¯¹åº”ç§é’¥çš„ç”¨æˆ·æ‰èƒ½è§£å¯†

3. **URL ç¼–ç **
   - åŠ å¯†åçš„å¯†æ–‡è¿›è¡Œ URL ç¼–ç 
   - é¿å…ç‰¹æ®Šå­—ç¬¦å¯¼è‡´çš„ URL è§£æé—®é¢˜

### æƒé™æ§åˆ¶

1. **ç™½åå•æœºåˆ¶**

   - ç”¨æˆ·å¿…é¡»åœ¨ç™½åå•ä¸­æ‰èƒ½åŠ å…¥ç¾¤èŠ
   - æ‰¹é‡é‚€è¯·è‡ªåŠ¨æ·»åŠ åˆ°ç™½åå•
   - ä½¿ç”¨åŒºå—é“¾ pin ç¡®ä¿ä¸å¯ç¯¡æ”¹

2. **chatPublicKey éªŒè¯**
   - ç§å¯†ç¾¤èŠå¿…é¡»éªŒè¯ç”¨æˆ·æ˜¯å¦å¼€é€šç§èŠ
   - æœªå¼€é€šç§èŠçš„ç”¨æˆ·æ— æ³•è¢«é‚€è¯·
   - é˜²æ­¢æ— æ•ˆé‚€è¯·

## æ—¥å¿—è¾“å‡º

### æ§åˆ¶å°æ—¥å¿—

æ‰¹é‡é‚€è¯·è¿‡ç¨‹ä¸­ä¼šè¾“å‡ºè¯¦ç»†çš„æ—¥å¿—ï¼Œæ–¹ä¾¿è°ƒè¯•ï¼š

```
ğŸš€ å¼€å§‹æ‰¹é‡é‚€è¯·: { groupId, userCount, hasPasswordKey }
ğŸ“‹ æŸ¥è¯¢ç¾¤ç»„ç™½åå•åˆ—è¡¨...
âœ… å½“å‰ç™½åå•ç”¨æˆ·æ•°: 5
â• éœ€è¦æ·»åŠ åˆ°ç™½åå•çš„ç”¨æˆ·æ•°: 3
ğŸ“¤ æ·»åŠ ç”¨æˆ·åˆ°ç™½åå•...
âœ… ç™½åå•æ›´æ–°æˆåŠŸ, txid: xxx
ğŸ”— ç”Ÿæˆé‚€è¯·é“¾æ¥...
ğŸ” ä¸ºç”¨æˆ· xxx... ç”ŸæˆåŠ å¯†é‚€è¯·é“¾æ¥
ğŸ”‘ ECDH åå•†å¯†é’¥æˆåŠŸ: xxx...
ğŸ”’ AES åŠ å¯†æˆåŠŸ, passcode é•¿åº¦: 128
âœ… ç”¨æˆ· xxx... é‚€è¯·é“¾æ¥ç”ŸæˆæˆåŠŸ
ğŸ“Š æ‰¹é‡é‚€è¯·å®Œæˆ: { total: 3, success: 3, failed: 0 }
```

### ç”¨æˆ·æç¤º

- **æˆåŠŸ**ï¼š`æˆåŠŸé‚€è¯· 3 ä½ç”¨æˆ·`
- **éƒ¨åˆ†æˆåŠŸ**ï¼š`æˆåŠŸé‚€è¯· 2 ä½ç”¨æˆ·ï¼Œ1 ä½å¤±è´¥`
- **å¤±è´¥**ï¼š`é‚€è¯·å¤±è´¥ï¼š3 ä½ç”¨æˆ·`

## TODO é¡¹

### 1. å‘é€é‚€è¯·é“¾æ¥

**å½“å‰çŠ¶æ€ï¼š** TODO æ ‡è®°

**ä½ç½®ï¼š** `src/utils/talk.ts` ç¬¬ 2187 è¡Œ

```typescript
// TODO: å‘é€é‚€è¯·é“¾æ¥ç»™ç”¨æˆ·
// await sendInviteMessage(user.metaId, inviteUrl)
```

**éœ€è¦å®ç°ï¼š**

- é€šè¿‡ç§èŠæˆ–ç³»ç»Ÿæ¶ˆæ¯å‘é€é‚€è¯·é“¾æ¥
- æˆ–è€…é€šè¿‡å…¶ä»–é€šçŸ¥æœºåˆ¶å‘ŠçŸ¥ç”¨æˆ·

### 2. é‚€è¯·ç»“æœå±•ç¤ºä¼˜åŒ–

**å»ºè®®ï¼š**

- æ·»åŠ é‚€è¯·ç»“æœå¼¹çª—ï¼Œæ˜¾ç¤ºæ¯ä¸ªç”¨æˆ·çš„è¯¦ç»†çŠ¶æ€
- æ”¯æŒå¤åˆ¶å•ä¸ªç”¨æˆ·çš„é‚€è¯·é“¾æ¥
- æ”¯æŒé‡æ–°é‚€è¯·å¤±è´¥çš„ç”¨æˆ·

### 3. é‚€è¯·å†å²è®°å½•

**å»ºè®®ï¼š**

- è®°å½•é‚€è¯·å†å²
- æ”¯æŒæŸ¥çœ‹å·²å‘é€çš„é‚€è¯·
- æ”¯æŒæ’¤é”€é‚€è¯·

## å›½é™…åŒ–

**æ–°å¢ç¿»è¯‘ï¼š**

```json
// zh.json
{
  "Talk": {
    "Channel": {
      "selected_users": "å·²é€‰ç”¨æˆ·",
      "clear_all": "æ¸…ç©ºå…¨éƒ¨",
      "batch_invite": "æ‰¹é‡é‚€è¯·"
    }
  }
}

// en.json
{
  "Talk": {
    "Channel": {
      "selected_users": "Selected Users",
      "clear_all": "Clear All",
      "batch_invite": "Batch Invite"
    }
  }
}
```

## æµ‹è¯•è¦ç‚¹

### åŠŸèƒ½æµ‹è¯•

1. **ç™½åå•ç®¡ç†**

   - [ ] æŸ¥è¯¢ç™½åå•æˆåŠŸ
   - [ ] æ·»åŠ ç”¨æˆ·åˆ°ç™½åå•æˆåŠŸ
   - [ ] å·²åœ¨ç™½åå•çš„ç”¨æˆ·ä¸ä¼šé‡å¤æ·»åŠ 

2. **ç”¨æˆ·é€‰æ‹©**

   - [ ] å¤é€‰æ¡†æ­£å¸¸å·¥ä½œ
   - [ ] å·²é€‰ç”¨æˆ·æ˜¾ç¤ºæ­£ç¡®
   - [ ] ç§»é™¤ç”¨æˆ·åŠŸèƒ½æ­£å¸¸
   - [ ] æ¸…ç©ºå…¨éƒ¨åŠŸèƒ½æ­£å¸¸
   - [ ] æœªå¼€é€šç§èŠç”¨æˆ·å¤é€‰æ¡†ç¦ç”¨

3. **æ‰¹é‡é‚€è¯·**

   - [ ] å…¬å¼€ç¾¤èŠæ‰¹é‡é‚€è¯·æˆåŠŸ
   - [ ] ç§å¯†ç¾¤èŠæ‰¹é‡é‚€è¯·æˆåŠŸ
   - [ ] ECDH åŠ å¯†æ­£å¸¸å·¥ä½œ
   - [ ] é‚€è¯·é“¾æ¥æ ¼å¼æ­£ç¡®
   - [ ] é‚€è¯·ç»“æœç»Ÿè®¡æ­£ç¡®

4. **é”™è¯¯å¤„ç†**
   - [ ] API å¤±è´¥æ—¶æ­£ç¡®å¤„ç†
   - [ ] ECDH å¤±è´¥æ—¶æ­£ç¡®å¤„ç†
   - [ ] éƒ¨åˆ†æˆåŠŸæ—¶æ­£ç¡®æ˜¾ç¤º
   - [ ] ç”¨æˆ·å–æ¶ˆç™½åå•æ“ä½œæ—¶æ­£ç¡®å¤„ç†

### å®‰å…¨æµ‹è¯•

1. **åŠ å¯†éªŒè¯**

   - [ ] ECDH åå•†å¯†é’¥æ¯æ¬¡ä¸åŒ
   - [ ] AES åŠ å¯†ç»“æœæ­£ç¡®
   - [ ] URL ç¼–ç æ— é—®é¢˜
   - [ ] æ¥å—é‚€è¯·æ—¶å¯ä»¥æ­£ç¡®è§£å¯†

2. **æƒé™éªŒè¯**
   - [ ] åªæœ‰ç¾¤ä¸»å¯ä»¥æ‰¹é‡é‚€è¯·
   - [ ] ç™½åå•æ›´æ–°éœ€è¦ç­¾å
   - [ ] æœªå¼€é€šç§èŠç”¨æˆ·æ— æ³•è¢«é‚€è¯·åˆ°ç§å¯†ç¾¤èŠ

## æ€§èƒ½ä¼˜åŒ–

### å½“å‰å®ç°

- **ä¸²è¡Œå¤„ç†**ï¼šä¸ºæ¯ä¸ªç”¨æˆ·ä¾æ¬¡ç”Ÿæˆé‚€è¯·é“¾æ¥
- **ä¼˜ç‚¹**ï¼šä»£ç ç®€å•ï¼Œæ—¥å¿—æ¸…æ™°
- **ç¼ºç‚¹**ï¼šç”¨æˆ·æ•°å¤šæ—¶å¯èƒ½è¾ƒæ…¢

### ä¼˜åŒ–å»ºè®®

```typescript
// å¹¶è¡Œç”Ÿæˆé‚€è¯·é“¾æ¥
const linkPromises = userList.map(async user => {
  try {
    // ... ç”Ÿæˆé‚€è¯·é“¾æ¥é€»è¾‘
    return { status: 'success', ... }
  } catch (err) {
    return { status: 'failed', ... }
  }
})

const results = await Promise.all(linkPromises)
```

## ç›¸å…³æ–‡ä»¶

- `src/utils/talk.ts` - æ‰¹é‡é‚€è¯·æ ¸å¿ƒé€»è¾‘å’Œé‚€è¯·æ¶ˆæ¯å‘é€
- `src/api/talk.ts` - ç™½åå•æŸ¥è¯¢ API
- `src/views/talk/components/ChannelMemberListDrawer.vue` - UI å®ç°
- `src/languages/zh.json` - ä¸­æ–‡ç¿»è¯‘
- `src/languages/en.json` - è‹±æ–‡ç¿»è¯‘

## æ›´æ–°æ—¥å¿—

### 2025 å¹´ 11 æœˆ 23 æ—¥ - v2.0

**æ–°å¢åŠŸèƒ½ï¼šè‡ªåŠ¨å‘é€é‚€è¯·æ¶ˆæ¯**

1. **å®ç° `sendInviteMessage` å‡½æ•°** (ç¬¬ 2073-2161 è¡Œ)

   - åŠŸèƒ½ï¼šé€šè¿‡ç§èŠæ¶ˆæ¯å‘é€é‚€è¯·é“¾æ¥ç»™ç”¨æˆ·
   - å‚æ•°ï¼š
     - `toMetaId`: æ¥æ”¶æ–¹ MetaId
     - `inviteUrl`: é‚€è¯·é“¾æ¥
     - `sharedSecret`: ECDH å…±äº«å¯†é’¥ï¼ˆå¯é€‰ï¼Œç”¨äºåŠ å¯†ï¼‰

2. **åŠ å¯†ä¼ è¾“**

   - ç§å¯†ç¾¤èŠï¼šä½¿ç”¨ AES åŠ å¯†é‚€è¯·é“¾æ¥åå†å‘é€
   - å…¬å¼€ç¾¤èŠï¼šç›´æ¥å‘é€æ˜æ–‡é“¾æ¥
   - åŒé‡å®‰å…¨ï¼šé“¾æ¥æœ¬èº«å·²åŠ å¯† + ä¼ è¾“è¿‡ç¨‹å†æ¬¡åŠ å¯†

3. **æ¶ˆæ¯æ ¼å¼**

   ```typescript
   {
     protocol: NodeName.SimpleMsg,
     contentType: 'text/plain',
     encrypt: 'ecdh',
     content: AES.encrypt(inviteUrl, sharedSecret).toString()
   }
   ```

4. **é›†æˆåˆ°æ‰¹é‡é‚€è¯·**

   - è‡ªåŠ¨åœ¨ç”Ÿæˆé‚€è¯·é“¾æ¥åå‘é€æ¶ˆæ¯
   - å‘é€å¤±è´¥ä¸å½±å“é‚€è¯·çŠ¶æ€ï¼ˆé“¾æ¥å·²ç”Ÿæˆï¼‰
   - è¯¦ç»†çš„æ—¥å¿—è®°å½•æ¯æ¬¡å‘é€æ“ä½œ

5. **æ—¥å¿—è¾“å‡º**
   ```
   ğŸ”’ é‚€è¯·é“¾æ¥å·²åŠ å¯†, å¯†æ–‡é•¿åº¦: 128
   ğŸš€ å‘é€ç§èŠæ¶ˆæ¯åˆ°: abc123...
   ğŸ“¨ é‚€è¯·æ¶ˆæ¯å·²å‘é€ç»™ç”¨æˆ· abc123...
   âš ï¸ å‘é€é‚€è¯·æ¶ˆæ¯å¤±è´¥ï¼ˆé“¾æ¥å·²ç”Ÿæˆï¼‰: [é”™è¯¯ä¿¡æ¯]
   ```

**æµ‹è¯•è¦ç‚¹ï¼š**

- [ ] ç§èŠæ¶ˆæ¯æˆåŠŸå‘é€åˆ°ç”¨æˆ·
- [ ] é‚€è¯·é“¾æ¥æ­£ç¡®åŠ å¯†
- [ ] ç”¨æˆ·æ”¶åˆ°æ¶ˆæ¯åèƒ½æ­£ç¡®è§£å¯†é“¾æ¥
- [ ] å‘é€å¤±è´¥æ—¶ä¸å½±å“æ•´ä½“é‚€è¯·æµç¨‹
- [ ] Mock æ¶ˆæ¯æ­£ç¡®æ˜¾ç¤ºåœ¨èŠå¤©åˆ—è¡¨

## æ€»ç»“

æ‰¹é‡é‚€è¯·åŠŸèƒ½å·²å®Œæ•´å®ç°ï¼ŒåŒ…æ‹¬ï¼š

âœ… ç™½åå•è‡ªåŠ¨ç®¡ç†
âœ… ECDH + AES åŠ å¯†
âœ… å¤šç”¨æˆ·é€‰æ‹© UI
âœ… æ‰¹é‡æ“ä½œæ”¯æŒ
âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†
âœ… è¯¦ç»†çš„æ—¥å¿—è¾“å‡º
âœ… å›½é™…åŒ–æ”¯æŒ
âœ… **è‡ªåŠ¨å‘é€é‚€è¯·æ¶ˆæ¯** â­ NEW

æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å‡å·²å®Œæˆï¼Œç³»ç»Ÿå¯ä»¥æŠ•å…¥ä½¿ç”¨ï¼
